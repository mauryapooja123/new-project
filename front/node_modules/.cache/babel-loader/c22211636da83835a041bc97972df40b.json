{"ast":null,"code":"var _jsxFileName = \"/home/webxpert/New_Project/front/src/models/courseModule/AddModule.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport * as courseModuleService from \"../../services/courseModule\";\nimport _ from \"lodash\";\nimport { createNotification } from \"../../helper/notification\";\nimport { ToastContainer } from \"react-toastify\";\nimport stateJson from \"../../config/state.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AddCourseModule = props => {\n  _s();\n\n  const [courseoptions, setCourseoptions] = useState([]);\n  const [show, setShow] = useState(false);\n  const [addModule, setAddModule] = useState({\n    state: \"\",\n    title: \"\",\n    orderNo: \"\",\n    courseId: \"\"\n  });\n  const [error, setError] = useState([]);\n  const [courseState, setCourseState] = useState([]);\n  const [stateTitle, setStateTitle] = useState([]);\n  useEffect(() => {\n    setCourseState(stateJson.states);\n  }, []);\n  useEffect(() => {\n    getCourse();\n  }, []);\n\n  const formValidation = () => {\n    const {\n      state,\n      title,\n      courseId,\n      orderNo\n    } = addModule;\n    let formErrors = {};\n    let isValid = true;\n\n    if (!state) {\n      isValid = false;\n      formErrors[\"state\"] = \"Please select state\";\n    }\n\n    if (!title) {\n      isValid = false;\n      formErrors[\"title\"] = \"Please select title\";\n    }\n\n    if (!courseId) {\n      isValid = false;\n      formErrors[\"courseId\"] = \"Please select courseId\";\n    }\n\n    if (!orderNo) {\n      isValid = false;\n      formErrors[\"orderNo\"] = \"Please select orderNo\";\n    }\n\n    setError(formErrors);\n    return isValid;\n  };\n\n  const clickHandleModule = async e => {\n    if (formValidation()) {\n      try {\n        const courseModule = {\n          courseTitle: addModule.courseTitle,\n          state: addModule.state,\n          title: addModule.title,\n          orderNo: addModule.orderNo,\n          courseId: addModule.courseId\n        }; // console.log(courseModule, \"courseModule\");\n\n        const response = await courseModuleService.addCourseModule(courseModule);\n\n        if (response.status === 400) {\n          createNotification(\"error\", response.message);\n          props.modalStatus();\n        } else {\n          createNotification(\"success\", response.message);\n          setShow(false);\n          props.modalStatus();\n          setAddModule(\"\");\n        }\n      } catch (err) {\n        console.log(err.message);\n      }\n    }\n  };\n\n  const handleShow = () => setShow(true);\n\n  const handleCloseOnCloseButton = () => {\n    setShow(false);\n    setAddModule(\"\");\n  };\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target; // console.log(value, \"vallllllllllllll\");\n\n    setAddModule({ ...addModule,\n      [name]: value\n    });\n\n    if (name === \"state\") {\n      getCourseTitle(value);\n    }\n  };\n\n  const getCourse = async () => {\n    const response = await courseModuleService.getAll();\n    setCourseoptions(response.data.data);\n  };\n\n  const getCourseTitle = async state => {\n    const response = await courseModuleService.getTitleByState(state); // console.log(response, \"response of title by state api\");\n\n    setStateTitle(response.data.data);\n  }; // console.log(stateTitle, \"state title\");\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"info\",\n      onClick: handleShow,\n      children: \"Add Course Module\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddCourseModule, \"tRol+d6/STSXsrUJRmfz4abpCuc=\");\n\n_c = AddCourseModule;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddCourseModule\");","map":{"version":3,"names":["useState","useEffect","Modal","Button","courseModuleService","_","createNotification","ToastContainer","stateJson","AddCourseModule","props","courseoptions","setCourseoptions","show","setShow","addModule","setAddModule","state","title","orderNo","courseId","error","setError","courseState","setCourseState","stateTitle","setStateTitle","states","getCourse","formValidation","formErrors","isValid","clickHandleModule","e","courseModule","courseTitle","response","addCourseModule","status","message","modalStatus","err","console","log","handleShow","handleCloseOnCloseButton","handleChange","name","value","target","getCourseTitle","getAll","data","getTitleByState"],"sources":["/home/webxpert/New_Project/front/src/models/courseModule/AddModule.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\nimport * as courseModuleService from \"../../services/courseModule\";\r\nimport _ from \"lodash\";\r\nimport { createNotification } from \"../../helper/notification\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport stateJson from \"../../config/state.json\";\r\n\r\nexport const AddCourseModule = (props) => {\r\n  const [courseoptions, setCourseoptions] = useState([]);\r\n  const [show, setShow] = useState(false);\r\n  const [addModule, setAddModule] = useState({\r\n    state: \"\",\r\n    title: \"\",\r\n    orderNo: \"\",\r\n    courseId: \"\",\r\n  });\r\n  const [error, setError] = useState([]);\r\n  const [courseState, setCourseState] = useState([]);\r\n  const [stateTitle, setStateTitle] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setCourseState(stateJson.states);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getCourse();\r\n  }, []);\r\n\r\n  const formValidation = () => {\r\n    const { state, title, courseId, orderNo } = addModule;\r\n    let formErrors = {};\r\n    let isValid = true;\r\n    if (!state) {\r\n      isValid = false;\r\n      formErrors[\"state\"] = \"Please select state\";\r\n    }\r\n    if (!title) {\r\n      isValid = false;\r\n      formErrors[\"title\"] = \"Please select title\";\r\n    }\r\n    if (!courseId) {\r\n      isValid = false;\r\n      formErrors[\"courseId\"] = \"Please select courseId\";\r\n    }\r\n    if (!orderNo) {\r\n      isValid = false;\r\n      formErrors[\"orderNo\"] = \"Please select orderNo\";\r\n    }\r\n    setError(formErrors);\r\n    return isValid;\r\n  };\r\n\r\n  const clickHandleModule = async (e) => {\r\n    if (formValidation()) {\r\n      try {\r\n        const courseModule = {\r\n          courseTitle: addModule.courseTitle,\r\n          state: addModule.state,\r\n          title: addModule.title,\r\n          orderNo: addModule.orderNo,\r\n          courseId: addModule.courseId,\r\n        };\r\n        // console.log(courseModule, \"courseModule\");\r\n        const response = await courseModuleService.addCourseModule(\r\n          courseModule\r\n        );\r\n        if (response.status === 400) {\r\n          createNotification(\"error\", response.message);\r\n          props.modalStatus();\r\n        } else {\r\n          createNotification(\"success\", response.message);\r\n          setShow(false);\r\n          props.modalStatus();\r\n          setAddModule(\"\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleShow = () => setShow(true);\r\n  const handleCloseOnCloseButton = () => {\r\n    setShow(false);\r\n    setAddModule(\"\");\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    // console.log(value, \"vallllllllllllll\");\r\n    setAddModule({\r\n      ...addModule,\r\n      [name]: value,\r\n    });\r\n    if (name === \"state\") {\r\n      getCourseTitle(value);\r\n    }\r\n  };\r\n\r\n  const getCourse = async () => {\r\n    const response = await courseModuleService.getAll();\r\n    setCourseoptions(response.data.data);\r\n  };\r\n  const getCourseTitle = async (state) => {\r\n    const response = await courseModuleService.getTitleByState(state);\r\n    // console.log(response, \"response of title by state api\");\r\n    setStateTitle(response.data.data);\r\n  };\r\n  // console.log(stateTitle, \"state title\");\r\n  return (\r\n    <div>\r\n      <Button variant=\"info\" onClick={handleShow}>\r\n        Add Course Module\r\n      </Button>\r\n\r\n      {/* <Modal show={show} onHide={handleCloseOnCloseButton}>\r\n        <Modal.Header>\r\n          <Modal.Title>Add Course Module</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"popup-form-box\">\r\n            <div className=\"form-filed_course\">\r\n              <label>Course State</label>\r\n              <select\r\n                className=\"input1\"\r\n                name=\"state\"\r\n                value={addModule.state}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"\">Select Course State</option>\r\n\r\n                {courseState &&\r\n                  courseState.length > 0 &&\r\n                  courseState.map((item) => (\r\n                    <option key={item.name} value={item.state}>\r\n                      {item.name}\r\n                    </option>\r\n                  ))}\r\n              </select>\r\n\r\n              <span className=\"form-error\">{error.state}</span>\r\n            </div>\r\n            <div className=\"form-filed_course\">\r\n              <label>Course Title</label>\r\n              <select\r\n                className=\"input1\"\r\n                name=\"courseId\"\r\n                value={addModule.courseId}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"\">Select Course Title</option>\r\n                {stateTitle &&\r\n                  stateTitle.length > 0 &&\r\n                  stateTitle.map((item) => (\r\n                    <option key={item._id} value={item._id}>\r\n                      {item.title}\r\n                    </option>\r\n                  ))}\r\n              </select>\r\n\r\n              <span className=\"form-error\">{error.courseId}</span>\r\n            </div>\r\n            <div className=\"form-filed_course\">\r\n              <label>Module Title</label>\r\n              <input\r\n                className=\"input1\"\r\n                type=\"text\"\r\n                name=\"title\"\r\n                placeholder=\"Module Title\"\r\n                value={addModule.title}\r\n                onChange={handleChange}\r\n              />\r\n              <span className=\"form-error\">{error.title}</span>\r\n            </div>\r\n            <div className=\"form-filed_course\">\r\n              <label>Order Number</label>\r\n              <input\r\n                className=\"input1\"\r\n                type=\"number\"\r\n                name=\"orderNo\"\r\n                placeholder=\"orderNo\"\r\n                value={addModule.orderNo}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n            <span className=\"form-error\">{error.orderNo}</span>\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleCloseOnCloseButton}>\r\n            Close\r\n          </Button>\r\n          <Button type=\"submit\" variant=\"primary\" onClick={clickHandleModule}>\r\n            Add\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal> */}\r\n      {/* <ToastContainer autoClose={3000} /> */}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}