{"ast":null,"code":"var _jsxFileName = \"/home/webxpert/New_Project/front/src/pages/courseUnit/SelectGalleryPopup.js\",\n    _s = $RefreshSig$();\n\nimport { Modal, Button } from \"react-bootstrap\";\nimport { useState, useEffect } from \"react\"; // import \"./AddPopup.css\";\n\nimport * as galaryService from \"../../services/galaryService\";\nimport _ from \"lodash\";\nimport PaginationReuse from \"../Pagination/PaginationReuse\";\nimport { createNotification } from \"../../helper/notification\";\nimport { ToastContainer } from \"react-toastify\";\nimport { apiBaseUrl } from \"../../contants/constants\";\nimport ImageClickPopup from \"./imageClickPopup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SelectGalleryPopup = props => {\n  _s();\n\n  const MAX_BOARD_SIZE = 12;\n  const [image, setImage] = useState(null);\n  const [show, setShow] = useState(false);\n  const [pageAfterSearch, setPageAfterSearch] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(\"\");\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const [error, setError] = useState([]);\n  const [galaryList, setGalaryList] = useState(\"\");\n  const [activePage, setActivePage] = useState(1);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [totalData, setTotalData] = useState();\n  const [pageLimit, setPageLimit] = useState(20);\n  useEffect(() => {\n    getImageList(pageNumber);\n  }, []);\n\n  const getImageList = async pageNumber => {\n    const response = await galaryService.getImage(pageNumber, pageLimit);\n    setGalaryList(response.data.data);\n    setTotalData(response.data.totalCount);\n  };\n\n  const formValidation = () => {\n    // const { image } = image;\n    let formErrors = {};\n    let isValid = true;\n\n    if (!image) {\n      isValid = false;\n      formErrors[\"image\"] = \"Please select Image\";\n    }\n\n    setError(formErrors);\n    return isValid;\n  };\n\n  const clickHandleImage = async e => {\n    if (formValidation()) {\n      try {\n        const formData = new FormData();\n        formData.append(\"image\", image);\n        const response = await galaryService.addImage(formData);\n        createNotification(\"success\", response.data.message);\n        props.getImageList();\n        props.modalStatus();\n      } catch (err) {}\n\n      setShow(false);\n    }\n  };\n\n  const handleShow = () => setShow(true);\n\n  const handleCloseOnCloseButton = () => {\n    setShow(false);\n  };\n\n  const handlePageChange = pagenumber => {\n    if (pageAfterSearch) {\n      searchPlanForPagination(pagenumber);\n      setActivePage(pagenumber);\n    } else {\n      setActivePage(pagenumber);\n      getImageList(pagenumber);\n    }\n  };\n\n  const getModelOpenIsTrue = data => {\n    setSelectedItem(data);\n    setModalIsOpen(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"info\",\n      onClick: handleShow,\n      children: \"Select Gallery\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      className: \"gallery-popup\",\n      show: show,\n      onHide: handleCloseOnCloseButton,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Gallery\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popup-form-box\",\n          children: galaryList && galaryList.length > 0 && galaryList.map((items, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gallery-image-list\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `${apiBaseUrl}/uploads/Galary/${items && items.image}`,\n              onClick: () => {\n                getModelOpenIsTrue(items);\n              },\n              alt: \"not showing\"\n            }, items._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination-box\",\n          children: totalData > 20 ? /*#__PURE__*/_jsxDEV(PaginationReuse, {\n            allDataCount: totalData,\n            pageLimit: pageLimit,\n            activePage: activePage,\n            pagenumber: pageNumber,\n            onchange: handlePageChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this) : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImageClickPopup, {\n        showModal: modalIsOpen,\n        toggleModal: setModalIsOpen,\n        selectedItem: selectedItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"info\",\n          onClick: handleCloseOnCloseButton,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SelectGalleryPopup, \"c1/YoMDg2hDj8ZtW4SR6IKl+0Vg=\");\n\n_c = SelectGalleryPopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectGalleryPopup\");","map":{"version":3,"names":["Modal","Button","useState","useEffect","galaryService","_","PaginationReuse","createNotification","ToastContainer","apiBaseUrl","ImageClickPopup","SelectGalleryPopup","props","MAX_BOARD_SIZE","image","setImage","show","setShow","pageAfterSearch","setPageAfterSearch","selectedItem","setSelectedItem","modalIsOpen","setModalIsOpen","error","setError","galaryList","setGalaryList","activePage","setActivePage","pageNumber","setPageNumber","totalData","setTotalData","pageLimit","setPageLimit","getImageList","response","getImage","data","totalCount","formValidation","formErrors","isValid","clickHandleImage","e","formData","FormData","append","addImage","message","modalStatus","err","handleShow","handleCloseOnCloseButton","handlePageChange","pagenumber","searchPlanForPagination","getModelOpenIsTrue","length","map","items","index","_id"],"sources":["/home/webxpert/New_Project/front/src/pages/courseUnit/SelectGalleryPopup.js"],"sourcesContent":["import { Modal, Button } from \"react-bootstrap\";\r\nimport { useState, useEffect } from \"react\";\r\n// import \"./AddPopup.css\";\r\nimport * as galaryService from \"../../services/galaryService\";\r\nimport _ from \"lodash\";\r\nimport PaginationReuse from \"../Pagination/PaginationReuse\";\r\n\r\nimport { createNotification } from \"../../helper/notification\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { apiBaseUrl } from \"../../contants/constants\";\r\nimport ImageClickPopup from \"./imageClickPopup\";\r\nexport const SelectGalleryPopup = (props) => {\r\n  const MAX_BOARD_SIZE = 12;\r\n  const [image, setImage] = useState(null);\r\n\r\n  const [show, setShow] = useState(false);\r\n  const [pageAfterSearch, setPageAfterSearch] = useState(false);\r\n  const [selectedItem, setSelectedItem] = useState(\"\");\r\n  const [modalIsOpen, setModalIsOpen] = useState(false);\r\n  const [error, setError] = useState([]);\r\n  const [galaryList, setGalaryList] = useState(\"\");\r\n  const [activePage, setActivePage] = useState(1);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [totalData, setTotalData] = useState();\r\n  const [pageLimit, setPageLimit] = useState(20);\r\n  useEffect(() => {\r\n    getImageList(pageNumber);\r\n  }, []);\r\n  const getImageList = async (pageNumber) => {\r\n    const response = await galaryService.getImage(pageNumber, pageLimit);\r\n    setGalaryList(response.data.data);\r\n    setTotalData(response.data.totalCount);\r\n  };\r\n  const formValidation = () => {\r\n    // const { image } = image;\r\n    let formErrors = {};\r\n    let isValid = true;\r\n    if (!image) {\r\n      isValid = false;\r\n      formErrors[\"image\"] = \"Please select Image\";\r\n    }\r\n    setError(formErrors);\r\n    return isValid;\r\n  };\r\n\r\n  const clickHandleImage = async (e) => {\r\n    if (formValidation()) {\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", image);\r\n        const response = await galaryService.addImage(formData);\r\n        createNotification(\"success\", response.data.message);\r\n        props.getImageList();\r\n        props.modalStatus();\r\n      } catch (err) {}\r\n      setShow(false);\r\n    }\r\n  };\r\n\r\n  const handleShow = () => setShow(true);\r\n  const handleCloseOnCloseButton = () => {\r\n    setShow(false);\r\n  };\r\n\r\n  const handlePageChange = (pagenumber) => {\r\n    if (pageAfterSearch) {\r\n      searchPlanForPagination(pagenumber);\r\n      setActivePage(pagenumber);\r\n    } else {\r\n      setActivePage(pagenumber);\r\n      getImageList(pagenumber);\r\n    }\r\n  };\r\n\r\n  const getModelOpenIsTrue = (data) => {\r\n    setSelectedItem(data);\r\n    setModalIsOpen(true);\r\n  };\r\n  return (\r\n    <div>\r\n      <Button variant=\"info\" onClick={handleShow}>\r\n        Select Gallery\r\n      </Button>\r\n\r\n      <Modal\r\n        className=\"gallery-popup\"\r\n        show={show}\r\n        onHide={handleCloseOnCloseButton}\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title>Gallery</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"popup-form-box\">\r\n            {galaryList &&\r\n              galaryList.length > 0 &&\r\n              galaryList.map((items, index) => (\r\n                <div className=\"gallery-image-list\">\r\n                  <img\r\n                    key={items._id}\r\n                    src={`${apiBaseUrl}/uploads/Galary/${items && items.image}`}\r\n                    onClick={() => {\r\n                      getModelOpenIsTrue(items);\r\n                    }}\r\n                    alt=\"not showing\"\r\n                  />\r\n                </div>\r\n              ))}\r\n          </div>\r\n          <div className=\"pagination-box\">\r\n            {totalData > 20 ? (\r\n              <PaginationReuse\r\n                allDataCount={totalData}\r\n                pageLimit={pageLimit}\r\n                activePage={activePage}\r\n                pagenumber={pageNumber}\r\n                onchange={handlePageChange}\r\n              />\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </Modal.Body>\r\n        <ImageClickPopup\r\n          showModal={modalIsOpen}\r\n          toggleModal={setModalIsOpen}\r\n          selectedItem={selectedItem}\r\n        ></ImageClickPopup>\r\n        <Modal.Footer>\r\n          <Button variant=\"info\" onClick={handleCloseOnCloseButton}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}